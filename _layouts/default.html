---
layout: compress
---

{% include base_path %}

<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
  </head>

  <body>

    {% include browser-upgrade.html %}
    {% include masthead.html %}

    {{ content }}

    <div class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}

    <script data-goatcounter="https://andrewfoongyk.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

    <script>
    let lastScroll = 0;
    const header = document.getElementById('site-header');
    const body = document.body;

    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;

      const isScrollingDown = currentScroll > lastScroll;
      const isScrollingUp = currentScroll < lastScroll;

      if (currentScroll <= 0) {
        header.classList.remove('hide');
        body.classList.add('at-top');
        body.classList.remove('header-hidden');
      } else {
        body.classList.remove('at-top');

        if (isScrollingDown && currentScroll > 100) {
          header.classList.add('hide');
          body.classList.add('header-hidden');
        } else if (isScrollingUp) {
          header.classList.remove('hide');
          body.classList.remove('header-hidden');
        }
      }

      lastScroll = currentScroll;
    });
    </script>
        
    <!-- <script>
      let lastScroll = 0;
      const header = document.getElementById('site-header');

      window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;

        if (currentScroll <= 0) {
          header.classList.remove('hide');
          document.body.classList.remove('header-hidden');
          return;
        }

        if (currentScroll > lastScroll && currentScroll > 100) {
          header.classList.add('hide');
          document.body.classList.add('header-hidden');
        } else if (currentScroll < lastScroll) {
          header.classList.remove('hide');
          document.body.classList.remove('header-hidden');
        }

        lastScroll = currentScroll;
      });
    </script> -->
    <!-- Scroll-triggered header visibility -->
    <!-- <script>
      let lastScroll = 0;
      const header = document.getElementById('site-header');

      window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;

        if (currentScroll <= 0) {
          header.classList.remove('hide');
          return;
        }

        if (currentScroll > lastScroll && currentScroll > 100) {
          header.classList.add('hide');
        } else if (currentScroll < lastScroll) {
          header.classList.remove('hide');
        }

        lastScroll = currentScroll;
      });
    </script> -->
  </body>
</html>

<script>
  document.querySelectorAll('a[href]').forEach(function(link) {
    const isInternal = link.hostname === window.location.hostname;
    if (!isInternal) {
      link.setAttribute('target', '_blank');
      link.setAttribute('rel', 'noopener noreferrer');
    }
  });
</script>
